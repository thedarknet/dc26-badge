include "common.fbs";

namespace darknet7;

enum RESPONSE_SUCCESS : byte { False = 0, True = 1 }

union ESPToSTMAny { GenericResponse, ESPSystemInfo }

table GenericResponse {
	successful:RESPONSE_SUCCESS;
	message:string;
}

table Badges {
	Address:[ubyte];
	Names:string;
}

table BadgesInArea {
	BadgeList:[Badges];
}

table ESPSystemInfo {
	heapSize:uint32;
	freeHeapSize:uint32;
	model:int32;
	cores:int32;
	revision:int32;
	features:int32;
	idf_version:string;
}

table ESPToSTM {
	msgInstanceID:uint32;
	Msg:ESPToSTMAny;
}

root_type ESPToSTM;

